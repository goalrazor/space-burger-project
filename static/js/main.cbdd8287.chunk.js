(this["webpackJsonpreact-burger-m7"]=this["webpackJsonpreact-burger-m7"]||[]).push([[0],{105:function(e,t,n){e.exports={modalOverlay:"ModalOverlay_modalOverlay__3A6em"}},106:function(e,t,n){e.exports={notFound:"notFoundPage_notFound__3mBfC"}},206:function(e,t,n){"use strict";n.r(t);var r=n(42),c=n.n(r),a=n(4),s=n(32),o=n(2),i=n(6),u=n(7),l=new(function(){function e(t){var n=t.baseUrl,r=t.headers;Object(i.a)(this,e),this._url=n,this._headers=r}return Object(u.a)(e,[{key:"getIngredients",value:function(){return fetch("".concat(this._url,"/ingredients")).then(this._checkResponse)}},{key:"saveOrder",value:function(e){return fetch("".concat(this._url,"/orders"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"resetPassword",value:function(e){return fetch("".concat(this._url,"/password-reset"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e})}).then(this._checkResponse)}},{key:"setNewPassword",value:function(e,t){return fetch("".concat(this._url,"/password-reset/reset"),{method:"POST",headers:this._headers,body:JSON.stringify({password:e,token:t})}).then(this._checkResponse)}},{key:"register",value:function(e,t,n){return fetch("".concat(this._url,"/auth/register"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:t,name:n})}).then(this._checkResponse)}},{key:"login",value:function(e,t){return fetch("".concat(this._url,"/auth/login"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._checkResponse)}},{key:"logout",value:function(e){return fetch("".concat(this._url,"/auth/logout"),{method:"POST",headers:this._headers,body:JSON.stringify({token:e})}).then(this._checkResponse)}},{key:"refreshToken",value:function(e){return fetch("".concat(this._url,"/auth/token"),{method:"POST",headers:this._headers,body:JSON.stringify({token:e})}).then(this._checkResponse)}},{key:"getProfileInfo",value:function(e){return fetch("".concat(this._url,"/auth/user"),{method:"GET",headers:Object(o.a)(Object(o.a)({},this._headers),{},{authorization:"Bearer ".concat(e)})}).then(this._checkResponse)}},{key:"setProfileInfo",value:function(e,t){return fetch("".concat(this._url,"/auth/user"),{method:"PATCH",headers:Object(o.a)(Object(o.a)({},this._headers),{},{authorization:"Bearer ".concat(e)}),body:JSON.stringify(t)}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return 200===e.status?e.json():e.json().then((function(e){throw e.message}))}}]),e}())({baseUrl:"https://norma.nomoreparties.space/api",headers:{"Content-Type":"application/json"}}),d="TOTAL_PRICE",j="RESET_TOTAL_PRICE",b="GET_INGREDIENTS_REQUEST",h="GET_INGREDIENTS_SUCCESS",O="GET_INGREDIENTS_FAILED",f="ADD_INGREDIENT",m="DELETE_INGREDIENT",_="MOVE_INGREDIENT",p="INCREASE_INGREDIENT_COUNT",g="DECREASE_INGREDIENT_COUNT",x="SET_CURRENT_INGREDIENT",I="SET_INGREDIENT_MODAL_SHOW",v="SET_INGREDIENT_MODAL_CLOSED",y="CLOSE_INGREDIENT_MODAL",R="DELETE_ALL_INGREDIENTS",E="RESET_INGREDIENT_COUNT",S="SET_CURRENT_TAB";function T(){return{type:O}}function N(e){return function(t){t({type:S,currentTab:e})}}var k="SET_ORDER_DETAILS",C="CLOSE_ORDER_MODAL",P="SET_ORDER_REQUEST",w="SET_ORDER_REQUEST_FAILED";function D(){return{type:w}}function F(e){return function(t){t({type:P}),l.saveOrder(e).then((function(e){e&&e.success?t({type:k,details:e}):t(D())})).then((function(){return t((function(e){e({type:R}),e({type:j})}))})).catch((function(e){console.error(e),t(D())}))}}var q={orderDetails:{},orderModalShown:!1,orderRequest:!1,orderRequestFailed:!1},A=n(17),L=n(39),G=n.n(L),U=n(8),B=n(1),M=n.n(B),H=n(40),W=n.n(H),Q=n(5),J=n(11),z=n.n(J),V=(z.a.shape({_id:z.a.string.isRequired,name:z.a.string.isRequired,type:z.a.string.isRequired,proteins:z.a.number.isRequired,fat:z.a.number.isRequired,carbohydrates:z.a.number.isRequired,calories:z.a.number.isRequired,price:z.a.number.isRequired,image:z.a.string.isRequired,image_mobile:z.a.string.isRequired,image_large:z.a.string.isRequired,__v:z.a.number.isRequired}),z.a.shape({image:z.a.string.isRequired,price:z.a.number.isRequired,name:z.a.string.isRequired}),z.a.shape({name:z.a.string.isRequired,order:z.a.object.isRequired,success:z.a.bool.isRequired}),n(213)),K=n(14),X=n(10),Y=n(0),Z=function(e){var t=Object(a.b)(),n=Object(a.c)((function(t){return t.ingredientReducer.ingredients.filter((function(t){return t._id===e._id}))[0].ingredientCount})),r=Object(K.h)(),c=Object(V.a)({type:"ingredient",item:{props:e}}),s=Object(U.a)(c,2)[1];return Object(Y.jsx)(X.c,{className:W.a.link,to:{pathname:"ingredients/".concat(e._id),state:{background:r}},children:Object(Y.jsxs)("div",{className:"".concat(W.a.dragIco," ","mt-6 mb-10"),onClick:function(){t({type:x,item:e})},ref:s,children:[Object(Y.jsx)(Q.Counter,{count:n,size:"small"}),Object(Y.jsx)("img",{src:e.image,alt:e.name}),Object(Y.jsxs)("p",{className:"".concat(W.a.price," ","text text_type_digits-default mt-1 mb-1"),children:[e.price,Object(Y.jsx)(Q.CurrencyIcon,{type:"primary"})]}),Object(Y.jsx)("p",{className:"".concat(W.a.name," ","text text_type_main-default"),children:e.name})]})})},$="\u0411\u0443\u043b\u043a\u0438",ee="\u0421\u043e\u0443\u0441\u044b",te="\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ne=function(e){var t;switch(e){case $:t="bun";break;case ee:t="sauce";break;case te:t="main";break;default:t="inner"}return t},re=function(e,t){return t.filter((function(t){return t.type===e}))},ce=function(e,t){var n=ne(e);return"inner"!==n?re(n,t):re(ne(te),t).concat(re(ne(ee),t))},ae=function(e){var t=e.children,n=e.data;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h2",{id:t,className:"text text_type_main-medium",children:t}),Object(Y.jsx)("div",{className:G.a.cardsContainer,children:ce(t,n).map((function(e){return Object(Y.jsx)(Z,Object(o.a)({},e),e._id)}))})]})},se={ingredients:[],constructorIngredients:[],ingredientsRequest:!1,ingredientsFailed:!1,ingredientModalShow:!1,currentIngredient:{},currentTab:$,totalPrice:0};function oe(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var c=new Date;c.setTime(c.getTime()+1e3*r),r=n.expires=c}r&&r.toUTCString&&(n.expires=r.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var s in n){a+="; "+s;var o=n[s];!0!==o&&(a+="="+o)}document.cookie=a}function ie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var ue="REGISTER_REQUEST_IN_PROGRESS",le="REGISTER_REQUEST_FAILED",de="REGISTER_REQUEST_SUCCESS",je="LOGIN_REQUEST_IN_PROGRESS",be="LOGIN_REQUEST_FAILED",he="LOGIN_REQUEST_SUCCESS",Oe="LOGOUT_REQUEST_IN_PROGRESS",fe="LOGOUT_REQUEST_FAILED",me="LOGOUT_REQUEST_SUCCESS",_e="REFRESH_TOKEN_REQUEST_IN_PROGRESS",pe="REFRESH_TOKEN_REQUEST_FAILED",ge="REFRESH_TOKEN_REQUEST_SUCCESS",xe="GET_PROFILE_INFO_IN_PROGRESS",Ie="GET_PROFILE_INFO_FAILED",ve="GET_PROFILE_INFO_SUCCESS",ye="SET_PROFILE_INFO_IN_PROGRESS",Re="SET_PROFILE_INFO_FAILED",Ee="SET_PROFILE_INFO_SUCCESS",Se="RESET_PASSWORD_IN_PROGRESS",Te="RESET_PASSWORD_FAILED",Ne="RESET_PASSWORD_SUCCESS",ke=" SET_NEW_PASSWORD_IN_PROGRESS",Ce="SET_NEW_PASSWORD_FAILED",Pe="SET_NEW_PASSWORD_SUCCESS";function we(e,t,n){return function(r){return r({type:ue}),l.register(e,t,n).then((function(e){return Be(e)})).then((function(e){return r({type:de,user:e.user,accessToken:e.accessToken.split("Bearer ")[1],refreshToken:e.refreshToken}),e})).catch((function(e){return console.error(e),r({type:le}),e}))}}function De(e,t){return function(n){return n({type:je}),l.login(e,t).then((function(e){return Be(e)})).then((function(e){return n({type:he,user:e.user,accessToken:e.accessToken.split("Bearer ")[1],refreshToken:e.refreshToken}),e})).catch((function(e){return console.error(e),n({type:be}),e}))}}function Fe(e){return function(t){return t({type:Oe}),l.logout(e).then((function(e){return Be(e)})).then((function(e){return t({type:me}),e})).catch((function(e){return console.error(e),t({type:fe}),e}))}}function qe(e){return function(t){return t({type:_e}),l.refreshToken(e).then((function(e){return Be(e)})).then((function(e){return t({type:ge,accessToken:e.accessToken.split("Bearer ")[1],refreshToken:e.refreshToken}),localStorage.setItem("refreshToken",e.refreshToken),oe("accessToken",e.accessToken.split("Bearer ")[1]),e})).catch((function(e){throw console.error(e),t({type:pe}),e}))}}function Ae(e){return function(t){return t({type:xe}),l.getProfileInfo(e).then((function(e){return Be(e)})).then((function(e){return t({type:ve,user:e.user}),e})).catch((function(e){return console.error(e),t({type:Ie}),e}))}}function Le(e,t,n,r){return function(c){return c({type:ye}),l.setProfileInfo(e,t,n,r).then((function(e){return Be(e)})).then((function(e){return c({type:Ee,user:e.user}),e})).catch((function(e){return console.error(e),c({type:Re}),e}))}}function Ge(e){return function(t){return t({type:Se}),l.resetPassword(e).then((function(e){return Be(e)})).then((function(e){return t({type:Ne}),e})).catch((function(e){return console.error(e),t({type:Te}),e}))}}function Ue(e,t){return function(n){return n({type:ke}),l.setNewPassword(e,t).then((function(e){return Be(e)})).then((function(e){return n({type:Pe}),e})).catch((function(e){return console.error(e),n({type:Ce}),e}))}}function Be(e){if(e&&e.success)return e;throw e.message()}var Me={registerRequestInProgress:!1,registerRequestFailed:!1,accessToken:"",refreshToken:"",user:{},loginRequestInProgress:!1,loginRequestFailed:!1,logoutRequestInProgress:!1,logoutRequestFailed:!1,isLoggedIn:!1,tokenRefreshRequestInProgress:!1,tokenRefreshRequestFailed:!1,getProfileInfoInProgress:!1,getProfileInfoFailed:!1,setProfileInfoInProgress:!1,setProfileInfoFailed:!1,resetPasswordInProgress:!1,resetPasswordFailed:!1,resetPasswordWasSent:!1,setNewPasswordInProgress:!1,setNewPasswordFailed:!1},He=Object(s.b)({ingredientReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(o.a)(Object(o.a)({},e),{},{ingredientsRequest:!0});case h:return Object(o.a)(Object(o.a)({},e),{},{ingredientsFailed:!1,ingredients:t.ingredients,ingredientsRequest:!1});case O:return Object(o.a)(Object(o.a)({},e),{},{ingredientsFailed:!0,ingredientsRequest:!1,ingredients:[]});case x:return Object(o.a)(Object(o.a)({},e),{},{ingredientModalShow:!0,currentIngredient:t.item});case I:return Object(o.a)(Object(o.a)({},e),{},{ingredientModalShow:!0});case v:return Object(o.a)(Object(o.a)({},e),{},{ingredientModalShow:!1});case f:var n=0!==e.constructorIngredients.filter((function(e){return"bun"===e.type})).length;return"bun"===t.payload.type&&n?Object(o.a)(Object(o.a)({},e),{},{constructorIngredients:e.constructorIngredients.map((function(e){return"bun"===e.type?t.payload:e}))}):Object(o.a)(Object(o.a)({},e),{},{constructorIngredients:[].concat(Object(A.a)(e.constructorIngredients),[t.payload])});case m:return Object(o.a)(Object(o.a)({},e),{},{constructorIngredients:Object(A.a)(e.constructorIngredients).filter((function(e){return e.uuid!==t.uuid}))});case R:return Object(o.a)(Object(o.a)({},e),{},{constructorIngredients:[]});case _:var r=e.constructorIngredients.filter((function(e){return"bun"!==e.type})),c=r[t.dragIndex],a=r.splice(t.hoverIndex,1,c);r.splice(t.dragIndex,1,a[0]);var s=e.constructorIngredients.filter((function(e){return"bun"===e.type}));return Object(o.a)(Object(o.a)({},e),{},{constructorIngredients:[].concat(Object(A.a)(s),Object(A.a)(r))});case p:var i,u=e.constructorIngredients.filter((function(e){return"bun"===e.type}));return"bun"===t.ingredient.type&&0===u.filter((function(e){return e._id!==t.ingredient._id})).length?(i=Object(o.a)(Object(o.a)({},e),{},{ingredients:Object(A.a)(e.ingredients).map((function(e){return"bun"===e.type?Object(o.a)(Object(o.a)({},e),{},{ingredientCount:0}):e}))}),Object(o.a)(Object(o.a)({},e),{},{ingredients:i.ingredients.map((function(e){return e._id===t.ingredient._id?Object(o.a)(Object(o.a)({},e),{},{ingredientCount:2}):e}))})):Object(o.a)(Object(o.a)({},e),{},{ingredients:Object(A.a)(e.ingredients).map((function(e){return e._id===t.ingredient._id?Object(o.a)(Object(o.a)({},e),{},{ingredientCount:++e.ingredientCount}):e}))});case g:return Object(o.a)(Object(o.a)({},e),{},{ingredients:Object(A.a)(e.ingredients).map((function(e){return e._id===t._id?Object(o.a)(Object(o.a)({},e),{},{ingredientCount:--e.ingredientCount}):e}))});case y:return Object(o.a)(Object(o.a)({},e),{},{ingredientModalShow:!1});case S:return Object(o.a)(Object(o.a)({},e),{},{currentTab:t.currentTab});case d:var l,T=Object(A.a)(e.constructorIngredients).map((function(e){return e.price})).reduce((function(e,t){return e+t})),N=null!==(l=Object(A.a)(e.constructorIngredients).filter((function(e){return"bun"===e.type}))[0])&&void 0!==l&&l.price?Object(A.a)(e.constructorIngredients).filter((function(e){return"bun"===e.type}))[0].price:0;return Object(o.a)(Object(o.a)({},e),{},{totalPrice:T+N});case j:return Object(o.a)(Object(o.a)({},e),{},{totalPrice:0});case E:return Object(o.a)(Object(o.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e.ingredientCount=0,e}))});default:return e}},orderDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(o.a)(Object(o.a)({},e),{},{orderRequest:!0});case k:return Object(o.a)(Object(o.a)({},e),{},{orderDetails:t.details,orderModalShown:!0,orderRequestFailed:!1,orderRequest:!1});case w:return Object(o.a)(Object(o.a)({},e),{},{orderRequest:!1,orderRequestFailed:!0,orderDetails:{}});case C:return Object(o.a)(Object(o.a)({},e),{},{orderModalShown:!1,orderDetails:{}});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(o.a)(Object(o.a)({},e),{},{registerRequestInProgress:!0});case de:return Object(o.a)(Object(o.a)({},e),{},{registerRequestFailed:!1,user:t.user,accessToken:t.accessToken,refreshToken:t.refreshToken,registerRequestInProgress:!1,isLoggedIn:!0});case le:return Object(o.a)(Object(o.a)({},e),{},{registerRequestFailed:!0,registerRequestInProgress:!1,user:{},accessToken:"",refreshToken:""});case je:return Object(o.a)(Object(o.a)({},e),{},{loginRequestInProgress:!0});case he:return Object(o.a)(Object(o.a)({},e),{},{loginRequestFailed:!1,user:t.user,accessToken:t.accessToken,refreshToken:t.refreshToken,isLoggedIn:!0,loginRequestInProgress:!1});case be:return Object(o.a)(Object(o.a)({},e),{},{loginRequestFailed:!0,loginRequestInProgress:!1,user:{},accessToken:"",refreshToken:""});case Oe:return Object(o.a)(Object(o.a)({},e),{},{logoutRequestInProgress:!0});case me:return Object(o.a)(Object(o.a)({},e),{},{logoutRequestFailed:!1,user:{},accessToken:"",refreshToken:"",logoutRequestInProgress:!1,isLoggedIn:!1});case fe:return Object(o.a)(Object(o.a)({},e),{},{logoutRequestFailed:!0,logoutRequestInProgress:!1,user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken});case _e:return Object(o.a)(Object(o.a)({},e),{},{tokenRefreshRequestInProgress:!0});case ge:return Object(o.a)(Object(o.a)({},e),{},{tokenRefreshRequestFailed:!1,tokenRefreshRequestInProgress:!1,accessToken:t.accessToken,refreshToken:t.refreshToken});case pe:return Object(o.a)(Object(o.a)({},e),{},{tokenRefreshRequestFailed:!0,tokenRefreshRequestInProgress:!1,accessToken:""});case xe:return Object(o.a)(Object(o.a)({},e),{},{getProfileInfoInProgress:!0});case ve:return Object(o.a)(Object(o.a)({},e),{},{getProfileInfoFailed:!1,getProfileInfoInProgress:!1,user:t.user});case Ie:return Object(o.a)(Object(o.a)({},e),{},{getProfileInfoFailed:!0,getProfileInfoInProgress:!1});case ye:return Object(o.a)(Object(o.a)({},e),{},{setProfileInfoInProgress:!0});case Ee:return Object(o.a)(Object(o.a)({},e),{},{setProfileInfoFailed:!1,setProfileInfoInProgress:!1,user:t.user});case Re:return Object(o.a)(Object(o.a)({},e),{},{user:{},setProfileInfoFailed:!0,setProfileInfoInProgress:!1});case Se:return Object(o.a)(Object(o.a)({},e),{},{resetPasswordInProgress:!0});case Ne:return Object(o.a)(Object(o.a)({},e),{},{resetPasswordFailed:!1,resetPasswordInProgress:!1,resetPasswordWasSent:!0});case Te:return Object(o.a)(Object(o.a)({},e),{},{resetPasswordFailed:!0,resetPasswordInProgress:!1,resetPasswordWasSent:!1});case ke:return Object(o.a)(Object(o.a)({},e),{},{setProfileInfoInProgress:!0});case Pe:return Object(o.a)(Object(o.a)({},e),{},{setNewPasswordFailed:!1,setNewPasswordInProgress:!1,resetPasswordWasSent:!1});case Ce:return Object(o.a)(Object(o.a)({},e),{},{setNewPasswordFailed:!0,setNewPasswordInProgress:!1});default:return e}}}),We=n(108),Qe=n(38),Je=n.n(Qe),ze=n(212),Ve=n(109),Ke=n(55),Xe=function(){var e=Object(a.c)((function(e){return e.ingredientReducer.currentTab})),t=Object(a.b)(),n=function(e){document.querySelector("#"+e).scrollIntoView({behavior:"smooth"}),t(N(e))};return Object(Y.jsxs)("div",{className:"".concat(G.a.tab," ","mb-10"),children:[Object(Y.jsx)(Q.Tab,{value:$,active:e===$,onClick:function(){n($)},children:$}),Object(Y.jsx)(Q.Tab,{value:ee,active:e===ee,onClick:function(){n(ee)},children:ee}),Object(Y.jsx)(Q.Tab,{value:te,active:e===te,onClick:function(){n(te)},children:te})]})},Ye=function(){var e=Object(a.c)((function(e){return e.ingredientReducer.ingredients})),t=Object(Ke.a)({threshold:0}),n=Object(U.a)(t,2),r=n[0],c=n[1],s=Object(Ke.a)({threshold:0}),o=Object(U.a)(s,2),i=o[0],u=o[1],l=Object(Ke.a)({threshold:0}),d=Object(U.a)(l,2),j=d[0],b=d[1],h=Object(a.b)();return Object(B.useEffect)((function(){c?h(N($)):u?h(N(ee)):b&&h(N(te))}),[h,c,b,u]),Object(Y.jsxs)("section",{className:G.a.container,children:[Object(Y.jsx)("h1",{className:"mt-10 mb-5 text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Y.jsx)(Xe,{}),e&&Object(Y.jsxs)("div",{className:Je.a.scroller,children:[Object(Y.jsx)("div",{ref:r,children:Object(Y.jsx)(ae,{data:e,children:$})}),Object(Y.jsx)("div",{ref:i,children:Object(Y.jsx)(ae,{data:e,children:ee})}),Object(Y.jsx)("div",{ref:j,children:Object(Y.jsx)(ae,{data:e,children:te})})]})]})},Ze=n(15),$e=n(20),et=n(33),tt=n.n(et),nt=n(214),rt=function(e){var t=e.type,n=e.name,r=e.price,c=e.image,s=e.uuid,o=e._id,i=e.index,u=e.moveCardHandler,l=Object(a.c)((function(e){return e.ingredientReducer.constructorIngredients.filter((function(e){return"bun"!==e.type})).length})),j=Object(a.b)();Object(B.useEffect)((function(){j({type:d})}),[j,s]);var b=Object(V.a)({type:"constructor-ingredient",item:{index:i},collect:function(e){return{isDragging:e.isDragging()}}}),h=Object(U.a)(b,2),O=h[0].isDragging,f=h[1],_=O?0:1,p=Object(nt.a)({accept:"constructor-ingredient",hover:function(e,t){var n;if(I.current){var r=e.index,c=i;if(r!==c){var a=null===(n=I.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(a.bottom-a.top)/2,o=t.getClientOffset().y-a.top;r<c&&o<s||r>c&&o>s||(u(r,c),e.index=c)}}}}),x=Object(U.a)(p,2)[1],I=Object(B.useRef)(null);return f(x(I)),Object(Y.jsxs)("div",{className:tt.a.constructorListContainer,style:{opacity:_},ref:I,children:[Object(Y.jsx)("div",{className:tt.a.dragIco,children:""===t&&l>1?Object(Y.jsx)(Q.DragIcon,{type:"primary"}):""}),Object(Y.jsx)(Q.ConstructorElement,{type:t,isLocked:!!t,text:n,price:r,thumbnail:c,handleClose:function(){return j({type:m,uuid:s}),j({type:g,_id:o}),void j({type:d})}})]})},ct=function(){var e=Object(a.c)((function(e){return e.ingredientReducer.totalPrice}));return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("p",{className:"".concat(W.a.price," ","text text_type_digits-default mt-1 mb-1"),children:[e,Object(Y.jsx)(Q.CurrencyIcon,{type:"primary"})]})})},at=n(215),st=function(){var e,t,n=Object(a.c)((function(e){return e.ingredientReducer.constructorIngredients})),r=n.filter((function(e){return"bun"===e.type})),c=Object(a.b)(),s=Object(K.g)(),i=function(){r.length>0&&n.filter((function(e){return"bun"!==e.type})).length>0?(c(F({ingredients:n.map((function(e){return e._id}))})),c({type:E})):(console.log("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443 \u0438 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"))},u=function(){var e=Object($e.a)(Object(Ze.a)().mark((function e(){return Object(Ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie("accessToken")){e.next=6;break}return console.log("!accessToken"),e.next=4,c(qe(localStorage.getItem("refreshToken"))).then((function(){console.log("!accessToken makeOrder"),i()})).catch((function(){s.replace("/login")}));case 4:e.next=8;break;case 6:console.log("accessToken"),i();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(nt.a)({accept:"ingredient",drop:function(e){var t=e.props;c({type:f,payload:Object(o.a)(Object(o.a)({},t),{},{uuid:Object(at.a)()})}),c({type:p,ingredient:t})}}),d=Object(U.a)(l,2)[1],j=function(e,t){n[e]&&c({type:_,hoverIndex:t,dragIndex:e})};return Object(Y.jsxs)("section",{className:G.a.container,ref:d,children:[Object(Y.jsx)("ul",{className:tt.a.cardsContainer,children:0!==n.length?Object(Y.jsxs)("div",{className:tt.a.cardsScrollerContainer,children:[0!==r.length?Object(Y.jsx)(rt,Object(o.a)(Object(o.a)({},r[0]),{},{type:"top",name:"".concat(null===(e=r[0])||void 0===e?void 0:e.name," (\u0432\u0435\u0440\u0445)")})):"",Object(Y.jsx)("div",{className:"".concat(Je.a.scrollerConstructor," ").concat(tt.a.cardsScroller),children:n.filter((function(e){return"bun"!==e.type})).map((function(e,t){return Object(Y.jsx)(rt,Object(o.a)(Object(o.a)({},e),{},{type:"",index:t,moveCardHandler:j}),e.uuid)}))}),0!==r.length?Object(Y.jsx)(rt,Object(o.a)(Object(o.a)({},r[0]),{},{type:"bottom",name:"".concat(null===(t=r[0])||void 0===t?void 0:t.name," (\u043d\u0438\u0437)")})):""]}):""}),Object(Y.jsxs)("div",{className:tt.a.totalContainer,children:[Object(Y.jsx)(ct,{}),Object(Y.jsx)("div",{onClick:u,children:Object(Y.jsx)(Q.Button,{type:"primary",size:"large",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})]})]})},ot=n(105),it=n.n(ot),ut=function(e){var t=e.handleClose;return Object(Y.jsx)("div",{className:it.a.modalOverlay,onClick:t})},lt=n(81),dt=n.n(lt),jt=document.querySelector("#modals"),bt=function(e){var t=e.title,n=e.children,r=e.handleClose,a=function(){r()},s=function(e){"Escape"===e.key&&r()};return Object(B.useEffect)((function(){return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[]),c.a.createPortal(Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:"".concat(dt.a.modalsContainer),children:[Object(Y.jsx)("h3",{className:"text text_type_main-large ml-10 mt-10",children:t}),Object(Y.jsx)("div",{className:dt.a.closeButton,onClick:a,children:Object(Y.jsx)(Q.CloseIcon,{type:"primary"})}),n]}),Object(Y.jsx)(ut,{handleClose:a})]}),jt)},ht=n(56),Ot=n.n(ht),ft=n.p+"static/media/done.18f2e572.svg",mt=function(){var e=Object(a.c)((function(e){return e.orderDetailsReducer.orderDetails.order.number}));return Object(Y.jsxs)("div",{className:Ot.a.orderDetailsContainer,children:[Object(Y.jsx)("p",{className:"".concat(Ot.a.orderNumber," ","text text_type_digits-large mt-30"),children:e}),Object(Y.jsx)("p",{className:"text text_type_main-medium mt-8 mb-15",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Y.jsx)("img",{className:Ot.a.image,src:ft,alt:"done"}),Object(Y.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Y.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})};function _t(e){var t=e.handleClose,n=Object(a.c)((function(e){return e.orderDetailsReducer.orderModalShown}));return Object(Y.jsx)(Y.Fragment,{children:n&&Object(Y.jsx)(bt,{title:"",handleClose:function(){t()},children:Object(Y.jsx)(mt,{})})})}function pt(e){var t=e.handleClose;return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsx)(_t,{handleClose:t}),Object(Y.jsx)(ze.a,{backend:Ve.a,children:Object(Y.jsxs)("div",{className:Je.a.content,children:[Object(Y.jsx)(Ye,{}),Object(Y.jsx)(st,{})]})})]})}var gt=n(9),xt=n.n(gt);function It(e){var t=e.header,n=e.buttonText,r=e.handleSubmit,c=e.children;return Object(Y.jsxs)("form",{className:xt.a.form,onSubmit:r,children:[Object(Y.jsx)("h1",{className:"text text_type_main-default ".concat(xt.a.text),children:t}),Object(Y.jsx)("div",{className:"mt-6 ".concat(xt.a.input),children:c}),Object(Y.jsx)("div",{className:xt.a.button,children:Object(Y.jsx)(Q.Button,{size:"medium",children:n})})]})}var vt=n(30),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=M.a.useState(e),n=Object(U.a)(t,2),r=n[0],c=n[1],a=function(e){c(Object(o.a)(Object(o.a)({},r),{},Object(vt.a)({},e.target.name,e.target.value)))};return{formData:r,handleInputChange:a,setFormData:c}};function Rt(){var e=Object(a.b)(),t=Object(K.g)(),n=Object(K.h)(),r=yt({email:"",password:""}),c=r.formData,s=r.handleInputChange,o=c.email,i=c.password,u=Object(B.useCallback)(function(){var r=Object($e.a)(Object(Ze.a)().mark((function r(c){return Object(Ze.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.next=3,e(De(o,i)).then((function(e){oe("accessToken",e.accessToken.split("Bearer ")[1]),localStorage.setItem("refreshToken",e.refreshToken)})).then((function(){var e;t.replace({pathname:(null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.from.pathname)||"/"})}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,c,t,n]);return Object(Y.jsxs)("div",{className:xt.a.formContainer,children:[Object(Y.jsxs)(It,{header:"\u0412\u0445\u043e\u0434",buttonText:"\u0412\u043e\u0439\u0442\u0438",handleSubmit:u,children:[Object(Y.jsx)(Q.EmailInput,{value:o,name:"email",onChange:s}),Object(Y.jsx)(Q.PasswordInput,{value:i,name:"password",onChange:s})]}),Object(Y.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20 ".concat(xt.a.text),children:["\u0412\u044b \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(Y.jsx)(X.b,{to:"/register",className:"text text_type_main-default ml-2 ".concat(xt.a.link),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Y.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-4 ".concat(xt.a.text),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Y.jsx)(X.b,{to:"/forgot-password",className:"text text_type_main-default ml-2 ".concat(xt.a.link),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})}function Et(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.authReducer.user})),n=yt({email:"",password:"",name:""}),r=n.formData,c=n.handleInputChange,s=r.email,o=r.password,i=r.name,u=Object(B.useCallback)((function(t){t.preventDefault(),e(we(s,o,i))}),[e,r]);return t.name?Object(Y.jsx)(K.a,{to:"/"}):Object(Y.jsxs)("div",{className:xt.a.formContainer,children:[Object(Y.jsxs)(It,{header:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",handleSubmit:u,children:[Object(Y.jsx)(Q.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:i,name:"name",onChange:c}),Object(Y.jsx)(Q.EmailInput,{value:s,name:"email",onChange:c}),Object(Y.jsx)(Q.PasswordInput,{value:o,name:"password",onChange:c})]}),Object(Y.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20 ".concat(xt.a.text),children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(Y.jsx)(X.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(xt.a.link),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}function St(){var e=Object(K.g)(),t=Object(a.b)(),n=yt({email:""}),r=n.formData,c=n.handleInputChange,s=r.email,o=Object(B.useCallback)(function(){var n=Object($e.a)(Object(Ze.a)().mark((function n(r){return Object(Ze.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,t(Ge(s)).then((function(){return e.replace("/reset-password")})).then((function(){return alert("\u041f\u0438\u0441\u044c\u043c\u043e \u0441 \u043a\u043e\u0434\u043e\u043c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f \u0432\u044b\u0441\u043b\u0430\u043d\u043e \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 ".concat(s))})).catch((function(e){return console.error(e)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[r,e,t]);return Object(Y.jsxs)("div",{className:xt.a.formContainer,children:[Object(Y.jsx)(It,{header:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",buttonText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",handleSubmit:o,children:Object(Y.jsx)(Q.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:s,name:"email",onChange:c})}),Object(Y.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20 ".concat(xt.a.text),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Y.jsx)(X.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(xt.a.link),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}function Tt(){var e=Object(B.useState)({icon:"ShowIcon"}),t=Object(U.a)(e,2),n=t[0],r=t[1],c=Object(K.g)(),s=Object(a.c)((function(e){return e.authReducer.resetPasswordWasSent})),o=Object(a.b)(),i=yt({password:"",keyword:""}),u=i.formData,l=i.handleInputChange,d=u.password,j=u.keyword;Object(B.useEffect)((function(){s||c.replace("/forgot-password")}),[]);var b=Object(B.useCallback)(function(){var e=Object($e.a)(Object(Ze.a)().mark((function e(t){return Object(Ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o(Ue(d,ie("accessToken"))).then((function(e){if(e.success)return e})).then((function(){return c.replace("/login")})).then((function(){return alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0437\u0430\u043d\u043e\u0432\u043e")})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,c,o]);return Object(Y.jsxs)("div",{className:xt.a.formContainer,children:[Object(Y.jsxs)(It,{header:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",handleSubmit:b,children:[Object(Y.jsx)(Q.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:d,name:"password",onChange:l,onIconClick:function(){r({icon:"ShowIcon"===n.icon?"HideIcon":"ShowIcon"})},icon:n.icon}),Object(Y.jsx)(Q.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:j,name:"keyword",onChange:l})]}),Object(Y.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20 ".concat(xt.a.text),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(Y.jsx)(X.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(xt.a.link),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}var Nt=n(31),kt=n.n(Nt);function Ct(){var e=yt({name:"",email:"",password:""}),t=e.formData,n=e.handleInputChange,r=e.setFormData,c=t.name,s=t.email,o=t.password,i=Object(B.useState)({isButtonsShown:!1,inputActive:!1}),u=Object(U.a)(i,2),l=u[0],d=u[1],j=Object(a.b)(),b=Object(K.g)(),h=Object(a.c)((function(e){return e.authReducer.user})),O=Object(K.h)();Object(B.useEffect)((function(){function e(){return(e=Object($e.a)(Object(Ze.a)().mark((function e(){return Object(Ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(qe(localStorage.getItem("refreshToken"))).then((function(){return j(Ae(ie("accessToken")))})).then((function(e){r({name:e.user.name,email:e.user.email,password:""})})).catch((function(){b.replace("/login")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f=Object(B.useCallback)((function(){d({isButtonsShown:!l.isButtonsShown,inputActive:!l.inputActive})}),[l]),m=Object(B.useCallback)(function(){var e=Object($e.a)(Object(Ze.a)().mark((function e(t){return Object(Ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j(qe(localStorage.getItem("refreshToken"))).then((function(){c!==h.name&&j(Le(ie("accessToken"),{name:c})),s!==h.email&&j(Le(ie("accessToken"),{email:s}))})).catch((function(e){console.error(e),b.replace("/login")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,j,h,b]),_=Object(B.useCallback)((function(){r({name:h.name,email:h.email}),f()}),[h,f]);return Object(Y.jsxs)("div",{className:xt.a.formContainer,children:[Object(Y.jsxs)("nav",{className:kt.a.navigation,children:[Object(Y.jsxs)("ul",{className:kt.a.list,children:[Object(Y.jsx)("li",{className:kt.a.listElement,children:Object(Y.jsx)(X.b,{className:"".concat("/profile"===O.pathname?"text text_type_main-medium":"text text_type_main-medium text_color_inactive"," ").concat(kt.a.link),style:"/profile"===O.pathname?{color:"#F2F2F3"}:{},to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Y.jsx)("li",{className:kt.a.listElement,children:Object(Y.jsx)(X.b,{className:"".concat("/profile/orders"===O.pathname?"text text_type_main-medium":"text text_type_main-medium text_color_inactive"," ").concat(kt.a.link),style:"/profile/orders"===O.pathname?{color:"#F2F2F3"}:{},to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(Y.jsx)("li",{className:kt.a.listElement,children:Object(Y.jsx)(X.b,{to:"/login",className:"text text_type_main-medium text_color_inactive ".concat(kt.a.link),onClick:function(){j(Fe(localStorage.getItem("refreshToken"))).catch((function(e){console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0445\u043e\u0434",e)})),document.cookie="accessToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("refreshToken")},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(Y.jsx)("p",{className:"text text_type_main-small text_color_inactive mt-20",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),c&&Object(Y.jsxs)("form",{className:xt.a.form,onSubmit:m,children:[Object(Y.jsxs)("div",{className:"mt-6 ".concat(xt.a.input),children:[Object(Y.jsx)(Q.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:c,name:"name",onChange:n,icon:"EditIcon",onIconClick:f,disabled:!l.inputActive}),Object(Y.jsx)(Q.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",value:s,name:"email",onChange:n,icon:"EditIcon",onIconClick:f,disabled:!l.inputActive}),Object(Y.jsx)(Q.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:o,name:"password",onChange:n,icon:"EditIcon",onIconClick:f,disabled:!l.inputActive})]}),l.isButtonsShown&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)(Q.Button,{onClick:m,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Y.jsx)(Q.Button,{onClick:_,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}var Pt=n(106),wt=n.n(Pt),Dt=function(){return Object(Y.jsx)("div",{className:wt.a.notFound,children:Object(Y.jsxs)("h1",{className:"text text_type_main-large mt-20 ".concat(xt.a.text),children:["404 - Not Found!",Object(Y.jsx)(X.b,{className:"text text_type_main-default ml-2 ".concat(xt.a.link),to:"/",children:"Go Home"})]})})},Ft=n(28),qt=n.n(Ft),At=function(e){var t=e.icon,n=e.iconStatus,r=e.className,c=e.path,a=e.match,s=e.children,o=Object(K.j)(a||c);return Object(Y.jsx)(X.b,{className:qt.a.link,to:"".concat(c),children:Object(Y.jsxs)("div",{className:"".concat(r," ","m-4"),children:[Object(Y.jsx)(t,{type:n}),Object(Y.jsx)("p",{className:"".concat(qt.a.headerMenuItemText," text text_type_main-default  ").concat(o?"text_color_primary":"text_color_inactive"),children:s})]})})},Lt=function(e){var t=e.type;return t||(t="secondary"),Object(Y.jsx)(Q.BurgerIcon,{type:"".concat(t)})},Gt=function(e){var t=e.type;return t||(t="secondary"),Object(Y.jsx)(Q.ListIcon,{type:"".concat(t)})},Ut=function(e){var t=e.type;return t||(t="secondary"),Object(Y.jsx)(Q.ProfileIcon,{type:"".concat(t)})},Bt=function(){var e=Object(K.j)({path:["/","/ingredients/:id","/order"],exact:!0}),t=Object(K.j)("/list"),n=Object(K.j)("/profile");return Object(Y.jsx)("header",{className:qt.a.header,children:Object(Y.jsxs)("div",{className:qt.a.headerContainer,children:[Object(Y.jsxs)("nav",{className:qt.a.headerMenu,children:[Object(Y.jsx)(At,{className:"".concat(qt.a.headerMenuItem," "),icon:Lt,iconStatus:e?"primary":"secondary",match:{path:["/","/ingredients/:id","/order"],exact:!0},path:"/",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"}),Object(Y.jsx)(At,{className:"".concat(qt.a.headerMenuItem," text text_type_main-default text_color_inactive"),icon:Gt,iconStatus:t?"primary":"secondary",path:"/list",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(Y.jsx)(X.b,{to:"/",className:"".concat(qt.a.logo," ","m-6"),children:Object(Y.jsx)(Q.Logo,{})}),Object(Y.jsx)(At,{className:"".concat(qt.a.headerMenuItem," text text_type_main-default text_color_inactive"),icon:Ut,iconStatus:n?"primary":"secondary",path:"/profile",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})},Mt=n(107),Ht=["children","notForAuthorisedRoute"];function Wt(e){var t=e.children,n=e.notForAuthorisedRoute,r=Object(Mt.a)(e,Ht),c=Object(a.b)(),s=ie("accessToken"),i=localStorage.getItem("refreshToken"),u=Object(K.g)();return Object(B.useEffect)((function(){function e(){return(e=Object($e.a)(Object(Ze.a)().mark((function e(){return Object(Ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}if(!i){e.next=4;break}return e.next=4,c(qe(i)).then((function(e){oe("accessToken",e.accessToken.split("Bearer ")[1])})).catch((function(e){console.error(e),u.replace("/login")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n&&s?Object(Y.jsx)(K.a,{to:"/"}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(K.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){var r=e.location;return s||n?t:Object(Y.jsx)(K.a,{to:{pathname:"/login",state:{from:r}}})}}))})}var Qt=n(34),Jt=n.n(Qt),zt=function(){var e,t,n="text text_type_main-default text_color_inactive",r="text text_type_digits-default text_color_inactive",c=Object(K.i)().id,s=Object(a.b)(),o=null===(e=Object(K.h)().state)||void 0===e?void 0:e.background;Object(B.useEffect)((function(){return o&&s({type:I}),function(){o&&s({type:v})}}),[o,s]);var i=Object(a.c)((function(e){return e.ingredientReducer.ingredients}));return i.length>0&&(t=i.find((function(e){return e._id===c}))),Object(Y.jsx)(Y.Fragment,{children:i.length>0&&Object(Y.jsxs)("div",{className:Jt.a.ingredientDetailsContainer,children:[Object(Y.jsx)("img",{className:Jt.a.image,src:t.image_large,alt:t.name}),Object(Y.jsx)("p",{className:"text text_type_main-medium mt-4 mb-8",children:t.name}),Object(Y.jsxs)("ul",{className:Jt.a.stats,children:[Object(Y.jsxs)("li",{className:Jt.a.stat,children:[Object(Y.jsx)("p",{className:n,children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(Y.jsx)("p",{className:r,children:t.calories})]}),Object(Y.jsxs)("li",{className:Jt.a.stat,children:[Object(Y.jsx)("p",{className:n,children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Y.jsx)("p",{className:r,children:t.proteins})]}),Object(Y.jsxs)("li",{className:Jt.a.stat,children:[Object(Y.jsx)("p",{className:n,children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Y.jsx)("p",{className:r,children:t.fat})]}),Object(Y.jsxs)("li",{className:Jt.a.stat,children:[Object(Y.jsx)("p",{className:n,children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Y.jsx)("p",{className:r,children:t.carbohydrates})]})]})]})})};function Vt(e){var t=e.handleClose,n=Object(K.g)();return Object(Y.jsx)(bt,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",handleClose:function(){t(),n.goBack()},children:Object(Y.jsx)(zt,{})})}var Kt=function(){var e,t=Object(a.b)(),n=Object(K.h)(),r=null===(e=n.state)||void 0===e?void 0:e.background,c=function(){t({type:y}),t({type:C})};return Object(B.useEffect)((function(){t((function(e){return e({type:b}),l.getIngredients().then((function(t){if(t&&t.success){var n=t.data.map((function(e){return e.ingredientCount=0,e}));e({type:h,ingredients:n})}else e(T());return t.data})).catch((function(t){console.error(t),e(T())}))}))}),[t]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Bt,{}),Object(Y.jsxs)(K.d,{location:r||n,children:[Object(Y.jsx)(K.b,{path:"/",exact:!0,children:Object(Y.jsx)(pt,{handleClose:c})}),Object(Y.jsx)(Wt,{notForAuthorisedRoute:!0,path:"/login",children:Object(Y.jsx)(Rt,{})}),Object(Y.jsx)(Wt,{notForAuthorisedRoute:!0,path:"/register",children:Object(Y.jsx)(Et,{})}),Object(Y.jsx)(Wt,{notForAuthorisedRoute:!0,path:"/forgot-password",children:Object(Y.jsx)(St,{})}),Object(Y.jsx)(Wt,{notForAuthorisedRoute:!0,path:"/reset-password",children:Object(Y.jsx)(Tt,{})}),Object(Y.jsx)(Wt,{path:"/profile",children:Object(Y.jsx)(Ct,{})}),Object(Y.jsx)(K.b,{path:"/ingredients/:id",children:Object(Y.jsx)(zt,{})}),Object(Y.jsx)(K.b,{path:"*",children:Object(Y.jsx)(Dt,{})})]}),r&&Object(Y.jsx)(K.b,{path:"/ingredients/:id",children:Object(Y.jsx)(Vt,{handleClose:c})})]})},Xt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.c)(Object(s.a)(We.a)),Yt=Object(s.d)(He,Xt);c.a.render(Object(Y.jsx)(a.a,{store:Yt,children:Object(Y.jsx)(X.a,{children:Object(Y.jsx)(Kt,{})})}),document.querySelector("#root"))},28:function(e,t,n){e.exports={header:"AppHeader_header__3QhD7",headerContainer:"AppHeader_headerContainer__1-3rR",headerMenu:"AppHeader_headerMenu__3WYGW AppHeader_headerContainer__1-3rR",headerMenuItem:"AppHeader_headerMenuItem__3Sfju AppHeader_headerContainer__1-3rR",headerMenuItemText:"AppHeader_headerMenuItemText__2VO3I",headerIcon:"AppHeader_headerIcon__K_Ehx",logo:"AppHeader_logo__2tmYl",link:"AppHeader_link__3AyVp"}},31:function(e,t,n){e.exports={list:"profilePage_list__3fdCG",listElement:"profilePage_listElement__iu9RQ",link:"profilePage_link__3tXWV",navigation:"profilePage_navigation__3JAP8"}},33:function(e,t,n){e.exports={cardsContainer:"BurgerConstructor_cardsContainer__3FFRv",dragIco:"BurgerConstructor_dragIco__Aq4tj",totalContainer:"BurgerConstructor_totalContainer__M4Jm4",cardsScrollerContainer:"BurgerConstructor_cardsScrollerContainer__3ArvY",cardsScroller:"BurgerConstructor_cardsScroller__10zev",constructorListContainer:"BurgerConstructor_constructorListContainer__lj3in"}},34:function(e,t,n){e.exports={ingredientDetailsContainer:"IngredientDetails_ingredientDetailsContainer__3KozA",image:"IngredientDetails_image__grQEo",stats:"IngredientDetails_stats__1aBgx",stat:"IngredientDetails_stat__2hClO"}},38:function(e,t,n){e.exports={content:"constructorPage_content__3I22n",scroller:"constructorPage_scroller__2uZAc",scrollerConstructor:"constructorPage_scrollerConstructor__2Tvua constructorPage_scroller__2uZAc"}},39:function(e,t,n){e.exports={container:"BurgerIngredients_container__2wjGa",cardsContainer:"BurgerIngredients_cardsContainer__2d-vT",tab:"BurgerIngredients_tab__3wNDO"}},40:function(e,t,n){e.exports={dragIco:"Card_dragIco__2hoFW",price:"Card_price__2PNoM",name:"Card_name__2xnLG",link:"Card_link__1cwr_"}},56:function(e,t,n){e.exports={orderDetailsContainer:"OrderDetails_orderDetailsContainer__YJ6qf",image:"OrderDetails_image__31kgB",orderNumber:"OrderDetails_orderNumber__3EsAM"}},81:function(e,t,n){e.exports={modalsContainer:"Modal_modalsContainer__1f5qD",closeButton:"Modal_closeButton__1kA_W"}},9:function(e,t,n){e.exports={form:"form_form__1Ljzh",input:"form_input__kPN_j",button:"form_button__2H-c6",formContainer:"form_formContainer__1hQRJ",link:"form_link__2gzSK",text:"form_text__BR57h"}}},[[206,1,2]]]);
//# sourceMappingURL=main.cbdd8287.chunk.js.map